<!doctype html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-alpha.68">
<title data-react-helmet="true">Getting Started | Jason&#x27;s Kubernetes Notes</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" name="docusaurus_language" content="en"><meta data-react-helmet="true" name="docusaurus_version" content="current"><meta data-react-helmet="true" name="docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="Getting Started | Jason&#x27;s Kubernetes Notes"><meta data-react-helmet="true" name="description" content="I&#x27;m assuming you already know how to install a Linux system, if not"><meta data-react-helmet="true" property="og:description" content="I&#x27;m assuming you already know how to install a Linux system, if not"><meta data-react-helmet="true" property="og:url" content="https://jasonkohles.com/k8s-notes/setup/getting-started"><link data-react-helmet="true" rel="shortcut icon" href="/k8s-notes/img/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://jasonkohles.com/k8s-notes/setup/getting-started"><link rel="stylesheet" href="/k8s-notes/styles.e8739408.css">
<link rel="preload" href="/k8s-notes/styles.69075ca6.js" as="script">
<link rel="preload" href="/k8s-notes/runtime~main.a4215b58.js" as="script">
<link rel="preload" href="/k8s-notes/main.3878add6.js" as="script">
<link rel="preload" href="/k8s-notes/1.d74cfc91.js" as="script">
<link rel="preload" href="/k8s-notes/25.575fc837.js" as="script">
<link rel="preload" href="/k8s-notes/935f2afb.93050429.js" as="script">
<link rel="preload" href="/k8s-notes/24.e6edf205.js" as="script">
<link rel="preload" href="/k8s-notes/b603c9c2.69027e57.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<nav aria-label="Skip navigation links"><button type="button" tabindex="0" class="skipToContent_2AhQ">Skip to main content</button></nav><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><div aria-label="Navigation bar toggle" class="navbar__toggle" role="button" tabindex="0"><svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></div><a class="navbar__brand" href="/k8s-notes/"><strong class="navbar__title">Jason&#x27;s Kubernetes Notes</strong></a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/jasonk/k8s-notes" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub</a><div class="react-toggle react-toggle--disabled displayOnlyInLargeViewport_2aTZ"><div class="react-toggle-track"><div class="react-toggle-track-check"><span class="toggle_BsTx">ðŸŒœ</span></div><div class="react-toggle-track-x"><span class="toggle_BsTx">ðŸŒž</span></div></div><div class="react-toggle-thumb"></div><input type="checkbox" disabled="" aria-label="Dark mode toggle" class="react-toggle-screenreader-only"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/k8s-notes/"><strong class="navbar__title">Jason&#x27;s Kubernetes Notes</strong></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a href="https://github.com/jasonk/k8s-notes" target="_blank" rel="noopener noreferrer" class="menu__link">GitHub</a></li></ul></div></div></div></nav><div class="main-wrapper"><div class="docPage_2gpo"><div class="docSidebarContainer_3_JD" role="complementary"><div class="sidebar_2urC"><div class="menu menu--responsive thin-scrollbar menu_5FrY"><button aria-label="Open Menu" aria-haspopup="true" class="button button--secondary button--sm menu__button" type="button"><svg aria-label="Menu" class="sidebarMenuIcon_Dm3K" xmlns="http://www.w3.org/2000/svg" height="24" width="24" viewBox="0 0 32 32" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><ul class="menu__list"><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">About</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/k8s-notes/">Welcome</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/k8s-notes/about/links">Helpful Kubernetes Links</a></li></ul></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#!">Setup</a><ul class="menu__list"><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active active" tabindex="0" href="/k8s-notes/setup/getting-started">Getting Started</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/k8s-notes/setup/control-node">Control Node</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/k8s-notes/setup/worker-nodes">Adding Worker Nodes</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/k8s-notes/setup/user-config">User Configuration</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/k8s-notes/setup/dashboard">Dashboard</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/k8s-notes/setup/helm">Helm</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/k8s-notes/setup/operators-and-openebs">Operators and OpenEBS</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/k8s-notes/setup/jsonnet-and-prometheus">Jsonnet and Prometheus</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/k8s-notes/setup/metallb">MetalLB</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/k8s-notes/setup/nginx-ingress">Nginx Ingress</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/k8s-notes/setup/exploring-pods">Exploring Pods</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Concepts</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/k8s-notes/concepts/control-plane">Control Plane</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/k8s-notes/concepts/operators">Operators</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/k8s-notes/concepts/tainting">Taints and Tolerations</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Applications</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/k8s-notes/apps/argocd">ArgoCD</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/k8s-notes/apps/cert-manager">cert-manager</a></li></ul></li></ul></div></div></div><main class="docMainContainer_3EyW"><div class="container padding-vert--lg docItemWrapper_39qw"><div class="row"><div class="col docItemCol_2ASc"><div class="docItemContainer_3QWW"><article><header><h1 class="docTitle_1Lrw">Getting Started</h1></header><div class="markdown"><p>I&#x27;m assuming you already know how to install a Linux system, if not
I&#x27;ll probably fill in some more details here later, but I started with
just a fairly bare-bones Debian 10 (buster) system as my control node.</p><p>You need a minimum of 2GB of RAM, and you should make sure that
whatever name your host has is in /etc/hosts (or otherwise
resolvable).</p><h1><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="planning-your-cluster"></a>Planning your cluster<a aria-hidden="true" class="hash-link" href="#planning-your-cluster" title="Direct link to heading">#</a></h1><p>There are a few things you want to decide ahead of time about how your
cluster is going to be set up.</p><p>The first is how many nodes you plan to build.  I&#x27;m going to assume
you will start with one and then possibly add more later, I&#x27;ll comment
on some things you might need to change when you start adding
additional nodes.</p><p>You also need to decide what the name of your cluster is going to be.
This is the hostname that you will use to access the cluster.
I called mine <code>cluster.local</code>, which will probably work for you too
unless you already have an opinion on hostname selection.  You need to
make sure that every host that will need to connect to the cluster is
able to resolve this name, either by adding it to the hosts file, or
by making sure it has a suitable DNS entry.</p><p>You also need to decide what network your cluster will use for it&#x27;s
internal network (the &quot;pod network&quot;).  Some of the more popular
network systems default to <code>10.244.0.0/16</code>, and therefore a lot of the
kubernetes documentation uses that range as well, and to make things
easier that&#x27;s what I&#x27;ll assume you are using in the rest of this
document.  The only reason you might realistically need to change this
is if your network happens to overlap with that.  If you do decide to
use a different network, make sure you use a range from a suitable
(<a href="https://en.wikipedia.org/wiki/Private_network" target="_blank" rel="noopener noreferrer">Private Network Block</a>)
and don&#x27;t make it too small, as you add nodes to your cluster it will
want to assign subnets from this block to each node to use when
creating pods.</p><h1><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="preparing-the-system"></a>Preparing the System<a aria-hidden="true" class="hash-link" href="#preparing-the-system" title="Direct link to heading">#</a></h1><p>The first thing we&#x27;re going to do is to prepare the system for
a kubernetes install.  First we need to make sure we have some of the
packages installed that will be needed for installing other packages
later, and we want to add the Docker and Kubernetes package
repsitories as a location to get packages from.</p><p>All of the commands that follow, until further notice, need to be run
on your control node as the <code>root</code> user.  You can either open a root
shell (<code>sudo -i</code>) or add <code>sudo</code> to the beginning of every command that
follows.</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><div tabindex="0" class="prism-code language-sh codeBlock_3iAC thin-scrollbar"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">apt update</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">apt install -y apt-transport-https ca-certificates curl \</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  software-properties-common gnupg-agent</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">curl -fsSL https://download.docker.com/linux/debian/gpg \</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  | apt-key --keyring /etc/apt/trusted.gpg.d/docker.gpg add -</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">echo &quot;deb https://download.docker.com/linux/debian buster stable&quot; \</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  &gt; /etc/apt/sources.list.d/docker.list</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">curl -fsSL https://packages.cloud.google.com/apt/doc/apt-key.gpg \</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  | apt-key --keyring /etc/apt/trusted.gpg.d/kubernetes.gpg add -</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">echo &quot;deb https://apt.kubernetes.io/ kubernetes-xenial main&quot; \</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  &gt; /etc/apt/sources.list.d/kubernetes.list</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button></div></div><p>Next we want to make sure the base system is up to date, and then
install the container runtime, kubelet and the some CLI admin tools.</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><div tabindex="0" class="prism-code language-sh codeBlock_3iAC thin-scrollbar"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">apt update</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">apt upgrade -y</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">apt install -y containerd.io kubeadm kubelet kubectl</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button></div></div></div></article><div class="margin-vert--xl"><div class="row"><div class="col"><a href="https://github.com/jasonk/k8s-notes/edit/main/docs/setup/getting-started.md" target="_blank" rel="noreferrer noopener"><svg fill="currentColor" height="1.2em" width="1.2em" preserveAspectRatio="xMidYMid meet" viewBox="0 0 40 40" style="margin-right:0.3em;vertical-align:sub"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div></div></div><div class="margin-vert--lg"><nav class="pagination-nav" aria-label="Blog list page navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/k8s-notes/about/links"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Â« Helpful Kubernetes Links</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/k8s-notes/setup/control-node"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Control Node Â»</div></a></div></nav></div></div></div><div class="col col--3"><div class="tableOfContents_3SO_ thin-scrollbar"></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="text--center"><div>Copyright Â© 2020 Jason Kohles</div></div></div></footer></div>
<script src="/k8s-notes/styles.69075ca6.js"></script>
<script src="/k8s-notes/runtime~main.a4215b58.js"></script>
<script src="/k8s-notes/main.3878add6.js"></script>
<script src="/k8s-notes/1.d74cfc91.js"></script>
<script src="/k8s-notes/25.575fc837.js"></script>
<script src="/k8s-notes/935f2afb.93050429.js"></script>
<script src="/k8s-notes/24.e6edf205.js"></script>
<script src="/k8s-notes/b603c9c2.69027e57.js"></script>
</body>
</html>