(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{83:function(e,t,n){"use strict";n.r(t),n.d(t,"frontMatter",(function(){return s})),n.d(t,"metadata",(function(){return i})),n.d(t,"rightToc",(function(){return l})),n.d(t,"default",(function(){return c}));var o=n(3),r=n(7),a=(n(0),n(90)),s={title:"Getting Started"},i={unversionedId:"setup/getting-started",id:"setup/getting-started",isDocsHomePage:!1,title:"Getting Started",description:"I'm assuming you already know how to install a Linux system, if not",source:"@site/docs/setup/getting-started.md",slug:"/setup/getting-started",permalink:"/k8s-notes/setup/getting-started",editUrl:"https://github.com/jasonk/k8s-notes/edit/main/docs/setup/getting-started.md",version:"current",sidebar:"docs",previous:{title:"Helpful Kubernetes Links",permalink:"/k8s-notes/about/links"},next:{title:"Control Node",permalink:"/k8s-notes/setup/control-node"}},l=[],u={rightToc:l};function c(e){var t=e.components,n=Object(r.a)(e,["components"]);return Object(a.b)("wrapper",Object(o.a)({},u,n,{components:t,mdxType:"MDXLayout"}),Object(a.b)("p",null,"I'm assuming you already know how to install a Linux system, if not\nI'll probably fill in some more details here later, but I started with\njust a fairly bare-bones Debian 10 (buster) system as my control node."),Object(a.b)("p",null,"You need a minimum of 2GB of RAM, and you should make sure that\nwhatever name your host has is in /etc/hosts (or otherwise\nresolvable)."),Object(a.b)("h1",{id:"planning-your-cluster"},"Planning your cluster"),Object(a.b)("p",null,"There are a few things you want to decide ahead of time about how your\ncluster is going to be set up."),Object(a.b)("p",null,"The first is how many nodes you plan to build.  I'm going to assume\nyou will start with one and then possibly add more later, I'll comment\non some things you might need to change when you start adding\nadditional nodes."),Object(a.b)("p",null,"You also need to decide what the name of your cluster is going to be.\nThis is the hostname that you will use to access the cluster.\nI called mine ",Object(a.b)("inlineCode",{parentName:"p"},"cluster.local"),", which will probably work for you too\nunless you already have an opinion on hostname selection.  You need to\nmake sure that every host that will need to connect to the cluster is\nable to resolve this name, either by adding it to the hosts file, or\nby making sure it has a suitable DNS entry."),Object(a.b)("p",null,'You also need to decide what network your cluster will use for it\'s\ninternal network (the "pod network").  Some of the more popular\nnetwork systems default to ',Object(a.b)("inlineCode",{parentName:"p"},"10.244.0.0/16"),", and therefore a lot of the\nkubernetes documentation uses that range as well, and to make things\neasier that's what I'll assume you are using in the rest of this\ndocument.  The only reason you might realistically need to change this\nis if your network happens to overlap with that.  If you do decide to\nuse a different network, make sure you use a range from a suitable\n(",Object(a.b)("a",Object(o.a)({parentName:"p"},{href:"https://en.wikipedia.org/wiki/Private_network"}),"Private Network Block"),")\nand don't make it too small, as you add nodes to your cluster it will\nwant to assign subnets from this block to each node to use when\ncreating pods."),Object(a.b)("h1",{id:"preparing-the-system"},"Preparing the System"),Object(a.b)("p",null,"The first thing we're going to do is to prepare the system for\na kubernetes install.  First we need to make sure we have some of the\npackages installed that will be needed for installing other packages\nlater, and we want to add the Docker and Kubernetes package\nrepsitories as a location to get packages from."),Object(a.b)("p",null,"All of the commands that follow, until further notice, need to be run\non your control node as the ",Object(a.b)("inlineCode",{parentName:"p"},"root")," user.  You can either open a root\nshell (",Object(a.b)("inlineCode",{parentName:"p"},"sudo -i"),") or add ",Object(a.b)("inlineCode",{parentName:"p"},"sudo")," to the beginning of every command that\nfollows."),Object(a.b)("pre",null,Object(a.b)("code",Object(o.a)({parentName:"pre"},{className:"language-sh"}),'apt update\napt install -y apt-transport-https ca-certificates curl \\\n  software-properties-common gnupg-agent\n\ncurl -fsSL https://download.docker.com/linux/debian/gpg \\\n  | apt-key --keyring /etc/apt/trusted.gpg.d/docker.gpg add -\necho "deb https://download.docker.com/linux/debian buster stable" \\\n  > /etc/apt/sources.list.d/docker.list\n\ncurl -fsSL https://packages.cloud.google.com/apt/doc/apt-key.gpg \\\n  | apt-key --keyring /etc/apt/trusted.gpg.d/kubernetes.gpg add -\necho "deb https://apt.kubernetes.io/ kubernetes-xenial main" \\\n  > /etc/apt/sources.list.d/kubernetes.list\n')),Object(a.b)("p",null,"Next we want to make sure the base system is up to date, and then\ninstall the container runtime, kubelet and the some CLI admin tools."),Object(a.b)("pre",null,Object(a.b)("code",Object(o.a)({parentName:"pre"},{className:"language-sh"}),"apt update\napt upgrade -y\napt install -y containerd.io kubeadm kubelet kubectl\n")))}c.isMDXComponent=!0},90:function(e,t,n){"use strict";n.d(t,"a",(function(){return d})),n.d(t,"b",(function(){return m}));var o=n(0),r=n.n(o);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,o,r=function(e,t){if(null==e)return{};var n,o,r={},a=Object.keys(e);for(o=0;o<a.length;o++)n=a[o],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(o=0;o<a.length;o++)n=a[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var u=r.a.createContext({}),c=function(e){var t=r.a.useContext(u),n=t;return e&&(n="function"==typeof e?e(t):i(i({},t),e)),n},d=function(e){var t=c(e.components);return r.a.createElement(u.Provider,{value:t},e.children)},p={inlineCode:"code",wrapper:function(e){var t=e.children;return r.a.createElement(r.a.Fragment,{},t)}},b=r.a.forwardRef((function(e,t){var n=e.components,o=e.mdxType,a=e.originalType,s=e.parentName,u=l(e,["components","mdxType","originalType","parentName"]),d=c(n),b=o,m=d["".concat(s,".").concat(b)]||d[b]||p[b]||a;return n?r.a.createElement(m,i(i({ref:t},u),{},{components:n})):r.a.createElement(m,i({ref:t},u))}));function m(e,t){var n=arguments,o=t&&t.mdxType;if("string"==typeof e||o){var a=n.length,s=new Array(a);s[0]=b;var i={};for(var l in t)hasOwnProperty.call(t,l)&&(i[l]=t[l]);i.originalType=e,i.mdxType="string"==typeof e?e:o,s[1]=i;for(var u=2;u<a;u++)s[u]=n[u];return r.a.createElement.apply(null,s)}return r.a.createElement.apply(null,n)}b.displayName="MDXCreateElement"}}]);